function main(config) {
  // 1. å®šä¹‰ä»£ç†ç»„ (proxy-groups)
  config["proxy-groups"] = [
    {
      name: "âœˆèŠ‚ç‚¹é€‰æ‹©",
      type: "select",
      proxies: ["â™¾è‡ªåŠ¨é€‰æ‹©", "ğŸ”¯æ•…éšœè½¬ç§»", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Static.png",
    },
    {
      name: "ğŸ”æ‰‹åŠ¨åˆ‡æ¢",
      type: "select",
      "include-all": true, // åŒ¹é…æ‰€æœ‰ä»£ç† (.*)
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Static.png",
    },
    {
      name: "â™¾è‡ªåŠ¨é€‰æ‹©",
      type: "url-test",
      "include-all": true,
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Urltest.png",
    },
    {
      name: "ğŸ”¯æ•…éšœè½¬ç§»",
      type: "fallback",
      "include-all": true,
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Fallback.png",
    },
    {
      name: "ğŸ•¹Game",
      type: "select",
      proxies: ["ğŸ”æ‰‹åŠ¨åˆ‡æ¢", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Game.png",
    },
    {
      name: "ğŸ“ƒTelegram",
      type: "select",
      proxies: ["âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Telegram.png",
    },
    {
      name: "ğŸYouTube",
      type: "select",
      proxies: ["âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/YouTube.png",
    },
    {
      name: "ğŸµSpotify",
      type: "select",
      proxies: ["âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Spotify.png",
    },
    {
      name: "ğŸBahamut",
      type: "select",
      proxies: ["âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Bahamut.png",
    },
    {
      name: "ğŸ…±Bili",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Bili.png",
    },
    {
      name: "ğŸŒå›½å¤–",
      type: "select",
      proxies: ["âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Global.png",
    },
    {
      name: "ğŸ¼å›½å†…",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/CN.png",
    },
    {
      name: "â“‚Bing",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Bing.png",
    },
    {
      name: "â“‚OneDrive",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/OneDrive.png",
    },
    {
      name: "â“‚å¾®è½¯",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Microsoft.png",
    },
    {
      name: "ğŸè‹¹æœ",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Apple.png",
    },
    {
      name: "ğŸ®æ¸¸æˆ",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Game.png",
    },
    {
      name: "ğŸ”—ç›´è¿",
      type: "select",
      proxies: ["DIRECT", "âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Direct.png",
    },
    {
      name: "â›”æ‹¦æˆª",
      type: "select",
      proxies: ["REJECT", "DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Reject.png",
    },
    {
      name: "â­•å…¶ä»–",
      type: "select",
      proxies: ["âœˆèŠ‚ç‚¹é€‰æ‹©", "â™¾è‡ªåŠ¨é€‰æ‹©", "DIRECT", "é¦™æ¸¯", "å°æ¹¾", "æ–°åŠ å¡", "æ—¥æœ¬", "ç¾å›½", "ğŸŒ å…¨çƒ", "ğŸ”æ‰‹åŠ¨åˆ‡æ¢"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Final.png",
    },
    {
      name: "é¦™æ¸¯",
      type: "url-test",
      filter: "(æ¸¯|HK|Hong)",
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      "include-all": true,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/HK.png",
    },
    {
      name: "æ—¥æœ¬",
      type: "url-test",
      filter: "(æ—¥æœ¬|ä¸œäº¬|æ±äº¬éƒ½|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|[^-]æ—¥|JP|Japan)",
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      "include-all": true,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/JP.png",
    },
    {
      name: "ç¾å›½",
      type: "url-test",
      filter: "(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|SFO|NYC|Oregon|United States)",
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 150,
      "include-all": true,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/US.png",
    },
    {
      name: "å°æ¹¾",
      type: "url-test",
      filter: "(å°|æ–°åŒ—|å½°åŒ–|ä¸­åæ°‘å›½|TW|Taiwan)",
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      "include-all": true,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/TW.png",
    },
    {
      name: "æ–°åŠ å¡",
      type: "url-test",
      filter: "(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)",
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      "include-all": true,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/SG.png",
    },
    {
      name: "éŸ©å›½",
      type: "url-test",
      filter: "(KR|Seoul|KOR|ì„œìš¸|é¦–å°”|éŸ©|éŸ“)",
      url: "http://www.gstatic.com/generate_204",
      interval: 300,
      tolerance: 50,
      "include-all": true,
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/KR.png",
    },
    {
      name: "ğŸŒ å…¨çƒ",
      type: "select",
      "include-all": true,
      "exclude-filter": "(æ¸¯|HK|Hong|æ—¥æœ¬|ä¸œäº¬[^-]æ—¥|JP|Japan|ç¾|US|SFO|NYC|Oregon|United States|å°|ä¸­åæ°‘å›½|TW|Taiwan|æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)",
      proxies: ["DIRECT"],
      icon: "https://testingcf.jsdelivr.net/gh/Orz-3/mini@master/Color/Global.png",
    },
  ];

  // 2. åˆå§‹åŒ–å¹¶å®šä¹‰è§„åˆ™æä¾›è€… (rule-providers)
  if (!config["rule-providers"]) {
    config["rule-providers"] = {};
  }
  config["rule-providers"] = Object.assign(config["rule-providers"], {
    Game: {
      url: "https://raw.githubusercontent.com/J54264/rules/main/proxy/Game.list",
      path: "./ruleset/Game.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Proxy: {
      url: "https://raw.githubusercontent.com/J54264/rules/main/proxy/Proxy.list",
      path: "./ruleset/Proxy.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Direct: {
      url: "https://raw.githubusercontent.com/J54264/rules/main/proxy/Direct.list",
      path: "./ruleset/Direct.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Reject: {
      url: "https://raw.githubusercontent.com/J54264/rules/main/proxy/Reject.list",
      path: "./ruleset/Reject.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Adblock4limbo: {
      url: "https://raw.githubusercontent.com/limbopro/Adblock4limbo/main/Adblock4limbo.list",
      path: "./ruleset/Adblock4limbo.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Lan: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Lan/Lan.list",
      path: "./ruleset/Lan.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    DirectBlackmatrix: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Direct/Direct.list",
      path: "./ruleset/DirectBlackmatrix.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    BanAD: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanAD.list",
      path: "./ruleset/BanAD.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    BanProgramAD: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/BanProgramAD.list",
      path: "./ruleset/BanProgramAD.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    GoogleCN: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/GoogleCN.list",
      path: "./ruleset/GoogleCN.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    SteamCN: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/SteamCN/SteamCN.list",
      path: "./ruleset/SteamCN.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Bing: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Bing.list",
      path: "./ruleset/Bing.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    OneDrive: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/OneDrive.list",
      path: "./ruleset/OneDrive.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Microsoft: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Microsoft.list",
      path: "./ruleset/Microsoft.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Apple: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple.list",
      path: "./ruleset/Apple.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Telegram: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Telegram/Telegram.list",
      path: "./ruleset/Telegram.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    GameBlackmatrix: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/Game.list",
      path: "./ruleset/GameBlackmatrix.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Spotify: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.list",
      path: "./ruleset/Spotify.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    YouTube: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.list",
      path: "./ruleset/YouTube.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Bahamut: {
      url: "https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bahamut/Bahamut.list",
      path: "./ruleset/Bahamut.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    BilibiliHMT: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Ruleset/BilibiliHMT.list",
      path: "./ruleset/BilibiliHMT.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    ChinaMedia: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaMedia.list",
      path: "./ruleset/ChinaMedia.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    ProxyMedia: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyMedia.list",
      path: "./ruleset/ProxyMedia.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    ProxyGFWlist: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ProxyGFWlist.list",
      path: "./ruleset/ProxyGFWlist.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    ChinaDomain: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaDomain.list",
      path: "./ruleset/ChinaDomain.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    ChinaCompanyIp: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/ChinaCompanyIp.list",
      path: "./ruleset/ChinaCompanyIp.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
    Download: {
      url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Download.list",
      path: "./ruleset/Download.list",
      behavior: "classical",
      interval: 86400,
      format: "text",
      type: "http",
    },
  });

  // 3. å®šä¹‰è§„åˆ™ (rules)
  config["rules"] = [
    "RULE-SET,Game,ğŸ•¹Game",
    "RULE-SET,Proxy,âœˆèŠ‚ç‚¹é€‰æ‹©",
    "RULE-SET,Direct,ğŸ”—ç›´è¿",
    "RULE-SET,Reject,â›”æ‹¦æˆª",
    "RULE-SET,Adblock4limbo,â›”æ‹¦æˆª",
    "RULE-SET,Lan,ğŸ”—ç›´è¿",
    "RULE-SET,DirectBlackmatrix,ğŸ”—ç›´è¿",
    "RULE-SET,BanAD,â›”æ‹¦æˆª",
    "RULE-SET,BanProgramAD,â›”æ‹¦æˆª",
    "RULE-SET,GoogleCN,ğŸ”—ç›´è¿",
    "RULE-SET,SteamCN,ğŸ”—ç›´è¿",
    "RULE-SET,Bing,â“‚Bing",
    "RULE-SET,OneDrive,â“‚OneDrive",
    "RULE-SET,Microsoft,â“‚å¾®è½¯",
    "RULE-SET,Apple,ğŸè‹¹æœ",
    "RULE-SET,Telegram,ğŸ“ƒTelegram",
    "RULE-SET,GameBlackmatrix,ğŸ®æ¸¸æˆ",
    "RULE-SET,Spotify,ğŸµSpotify",
    "RULE-SET,YouTube,ğŸYouTube",
    "RULE-SET,Bahamut,ğŸBahamut",
    "RULE-SET,BilibiliHMT,ğŸ…±Bili",
    "RULE-SET,ChinaMedia,ğŸ¼å›½å†…",
    "RULE-SET,ProxyMedia,ğŸŒå›½å¤–",
    "RULE-SET,ProxyGFWlist,âœˆèŠ‚ç‚¹é€‰æ‹©",
    "RULE-SET,ChinaDomain,ğŸ”—ç›´è¿",
    "RULE-SET,ChinaCompanyIp,ğŸ”—ç›´è¿",
    "RULE-SET,Download,ğŸ”—ç›´è¿",
    "GEOIP,CN,ğŸ”—ç›´è¿",
    "MATCH,â­•å…¶ä»–",
  ];

  return config;
}
